<head>
    <link rel="shorcut icon" href="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAJOgAACToAYJjBRwAAAJISURBVEhLtZa9rjlBFMAPlviKIISSR1BoZNU0IuEBFErxAArRK4RGwSuIghdQKRUSUUmEggSREB+Jj/nPmZ31Xxc33Lv3l5zMztmZPTPnnDmzmuv1ShqNBux2O6DPoBYajYaJKIoA5/OZWCwWQvV/ItVqlWjQiNPphEAgAKVSierVYTweQzKZhHq9Lu3EZDKRRCJB1GQymbCd1Go1opXsgqrxQDDGMsyITqeD4/EIy+XyLVmv12yyzOFwYHrqFa75ArrLbDY/BOyV4NhwOMydIlGpVIjNZiODwYBrCBkOh2w8ukvANMtms9+vREGz2YT5fM57Evv9Hjabzev53PDbBINB4vP5eE+iWCyyVff7fa6538kt8O+Cq8Xdf8LHRn6CgKmbz+dhtVo99WksFoN4PM5773O5XFiLWStQ90G5XGbBe4bb7f6REY/HA4VCAUKhkJTCVquVRCIRMpvNHmS73UqR5NDyQ/x+P+9JPAu8EhYT3BotLeD1eh+ELgCH/ApmBLNF7bKiRNXsstvt/OkegbcPYLblcjmIRqNAKzTXApxOJyZKZC9kMhnAawNB7+j1ekilUq+NYJnAu8BoNN4ZwdV+PYz00gNau6DdbnPNf/CeeukurVZ6hR9Q0mq1oNPp8J5EOp2G0WgEi8XiJt1ul70TBOHzmDgcjptLZDAzXS7XneA5kWFGaCozi0rkHRgMBtZ+CsZDhn0ZFRjoXq/HlAg9iKydTqd3+nfBOx5h8cMT/+d/KzT9nv534QpQ0JUonyLPF0UR/gGMYUuO6AKrGQAAAABJRU5ErkJggg=="/>
    <style>
        h2 {
            font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
            text-align: center;
            color: antiquewhite;
        }
        h4 {
            font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
            text-align: center;
            color: antiquewhite;
        }
        .stripPart{
            width: 100%;
             height: calc(100% / 3);
        }
        .sky{
            background: rgb(124, 172, 232);
        }
        .wall{
            background: rgb(230, 200, 176);
        }
        .ground{
            background: rgb(39, 127, 49);
        }
    </style>
</head>

<body style="background-color:rgb(61, 61, 61);">
<div id="container" style="margin: auto; width: 50%; height: 80%; border:2px solid black; background: black;">
    <div id="strip0" style="float: left; width: 100%; height: 100%;">
        <div class="stripPart sky" id="sky"> </div>
        <div class="stripPart wall" id="wall"> </div>
        <div class="stripPart ground" id="ground"> </div>
    </div>
</div>

<h2> 
   &lt Maze Escape &gt <br>
    WASD to move <br>
</h2>
<h4>made by jerry g :)</h4>

<script>

function generateStrips(){
    //document.querySelector('#strip0').style.height = "100%"
    for (let i = 1; i < stripNumber ; i++){
        let currentStrip = document.querySelector('#strip0');
        let clonedStrip = currentStrip.cloneNode(true);
        clonedStrip.id = 'strip'+ (stripNumber-i) ;
        currentStrip.after(clonedStrip)
    }
}

function updateStrips(){
    let shift = Math.random()*2 - 1
    for (let i=0; i<stripNumber; i++){
        let stripName = "strip" + i
        let wallHeight = Math.abs(Math.sin(shift + (2*Math.PI*i)/(1.5*stripNumber)))*35
        let skyGroundHeight = (100 - wallHeight)/2
        document.querySelector("#"+stripName+" #wall").style.height = wallHeight + "%";
        document.querySelector("#"+stripName+" #sky").style.height = skyGroundHeight + 10 + "%";
        document.querySelector("#"+stripName+" #ground").style.height = skyGroundHeight - 10 + "%";
    }
}

const stripNumber = 60 // 60 strips for 60deg FOV
document.getElementById("strip0").style.width = "calc(100% /"+stripNumber+")"

document.addEventListener('keydown', function(event){
    if (["ArrowUp","ArrowRight","ArrowDown","ArrowLeft"].includes(event.key)){
        updateStrips()
    }
} );

window.addEventListener('load', function(event){
    generateStrips()
    updateStrips()
    }
  );


</script>

</body>